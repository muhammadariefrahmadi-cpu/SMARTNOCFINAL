<Page
    x:Class="SMART_NOC.Views.SettingsPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:CommunityToolkit.WinUI.Controls"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

	<Grid Padding="36">
		<StackPanel Spacing="24" MaxWidth="800" HorizontalAlignment="Left">

			<StackPanel>
				<TextBlock Text="System Configuration" Style="{StaticResource PageTitleStyle}"/>
				<TextBlock Text="Atur preferensi AI dan penyimpanan aplikasi." Style="{StaticResource PageSubtitleStyle}"/>
			</StackPanel>

			<TextBlock Text="ðŸ¤– AI &amp; Automation" FontSize="14" FontWeight="SemiBold" Foreground="{ThemeResource SystemControlForegroundAccentBrush}" Margin="0,10,0,0"/>

			<controls:SettingsExpander Header="Google Gemini Vision"
                                       Description="API Key diperlukan untuk fitur OCR otomatis dari gambar bukti."
                                       IsExpanded="True">
				<controls:SettingsExpander.HeaderIcon>
					<FontIcon Glyph="&#xE7E8;" />
				</controls:SettingsExpander.HeaderIcon>

				<controls:SettingsExpander.Items>
					<controls:SettingsCard ContentAlignment="Left">
						<StackPanel Spacing="10" Padding="0,10">
							<PasswordBox x:Name="TxtApiKey" Header="API Key" PlaceholderText="Paste API Key Gemini disini..." Width="400" HorizontalAlignment="Left"/>
							<Button x:Name="BtnSaveApi" Content="Simpan Kunci" Click="BtnSaveApi_Click" Style="{StaticResource AccentButtonStyle}"/>
						</StackPanel>
					</controls:SettingsCard>
				</controls:SettingsExpander.Items>
			</controls:SettingsExpander>

			<TextBlock Text="âš™ï¸ App Behavior" FontSize="14" FontWeight="SemiBold" Foreground="{ThemeResource SystemControlForegroundAccentBrush}" Margin="0,10,0,0"/>

			<controls:SettingsCard Header="Auto Save" Description="Simpan progress tiket otomatis setiap 30 detik.">
				<controls:SettingsCard.HeaderIcon>
					<FontIcon Glyph="&#xE74E;" />
				</controls:SettingsCard.HeaderIcon>
				<ToggleSwitch x:Name="TgAutoSave" OnContent="Aktif" OffContent="Mati"/>
			</controls:SettingsCard>

			<controls:SettingsCard Header="Data Folder" Description="Buka lokasi penyimpanan data tiket lokal." IsClickEnabled="True" Click="BtnOpenFolder_Click">
				<controls:SettingsCard.HeaderIcon>
					<FontIcon Glyph="&#xE8B7;" />
				</controls:SettingsCard.HeaderIcon>
				<FontIcon Glyph="&#xE8A7;" FontSize="14" Foreground="Gray"/>
			</controls:SettingsCard>

			<TextBlock Text="SMART NOC MANAGER v1.0.0 (WinUI 3)" HorizontalAlignment="Center" Foreground="Gray" Margin="0,40,0,0" FontSize="11"/>
		</StackPanel>
	</Grid>
</Page>