<winex:WindowEx
    x:Class="SMART_NOC.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:SMART_NOC"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:winex="using:WinUIEx"
    mc:Ignorable="d">

    <Grid Background="{StaticResource NeonDeepSpaceBackground}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Grid x:Name="AppTitleBar" Grid.Row="0" Canvas.ZIndex="999" Height="60" Background="Transparent" ColumnSpacing="16" Padding="28,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <Grid x:Name="WindowDragRegion" Grid.Column="0" Grid.ColumnSpan="3" Background="Transparent" IsHitTestVisible="True" 
                  AutomationProperties.Name="Window title bar"
                  AutomationProperties.HelpText="Drag to move window around the screen" />

            <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="16" VerticalAlignment="Center" IsHitTestVisible="False"
                        AutomationProperties.Name="Application branding"
                        AutomationProperties.HelpText="SMART NOC Commander - Network Operations Center application">
                <Border Width="32" Height="32" CornerRadius="8" Background="#00B4FF" Opacity="0.15"
                        AutomationProperties.Name="Application logo"
                        AutomationProperties.HelpText="SMART NOC logo icon">
                    <FontIcon Glyph="&#xE8E0;" Foreground="#00B4FF" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Border>

                <StackPanel Orientation="Horizontal" Spacing="12" VerticalAlignment="Center">
                    <TextBlock Text="SMART NOC" FontFamily="{StaticResource InterBold}" FontSize="14" Foreground="White" CharacterSpacing="80" VerticalAlignment="Center" FontWeight="Bold"
                               AutomationProperties.Name="Application name: SMART NOC"
                               AutomationProperties.HeadingLevel="1"/>
                    <Border Width="2" Height="16" Background="#40FFFFFF" VerticalAlignment="Center" CornerRadius="1"/>
                    <TextBlock Text="COMMANDER" FontFamily="{StaticResource InterBold}" FontSize="13" Foreground="#A0FFFFFF" CharacterSpacing="60" VerticalAlignment="Center" FontWeight="Bold" Opacity="0.9"
                               AutomationProperties.Name="Application subtitle: COMMANDER"
                               AutomationProperties.HelpText="Full application name is SMART NOC COMMANDER"/>
                </StackPanel>

                <Border Padding="8,4,8,4" Background="#10B4FF3B" BorderBrush="#B4FF3B" BorderThickness="1" CornerRadius="6" Margin="16,0,0,0"
                        AutomationProperties.Name="System status indicator"
                        AutomationProperties.HelpText="Current system status is OPERATIONAL (green indicator means system is running normally)"
                        AutomationProperties.LiveSetting="Polite">
                    <StackPanel Orientation="Horizontal" Spacing="6">
                        <Ellipse Width="6" Height="6" Fill="#34C759" Opacity="0.8">
                            <Ellipse.RenderTransform>
                                <CompositeTransform/>
                            </Ellipse.RenderTransform>
                        </Ellipse>
                        <TextBlock Text="OPERATIONAL" FontFamily="{StaticResource InterSemiBold}" FontSize="10" Foreground="#34C759" FontWeight="SemiBold" VerticalAlignment="Center"/>
                    </StackPanel>
                </Border>
            </StackPanel>

            <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="12" VerticalAlignment="Center" IsHitTestVisible="True"
                        AutomationProperties.Name="Window control panel"
                        AutomationProperties.HelpText="Contains quick action buttons and toggles">
                <Border Width="1" Height="20" Background="#30FFFFFF" VerticalAlignment="Center"/>
            </StackPanel>
        </Grid>

        <NavigationView Grid.Row="1" x:Name="NavView" 
                        SelectionChanged="NavView_SelectionChanged" 
                        Loaded="NavView_Loaded"
                        IsSettingsVisible="False" 
                        PaneDisplayMode="Left"
                        IsBackButtonVisible="Collapsed"
                        Background="{x:Null}"
                        IsPaneOpen="True"
                        AutomationProperties.Name="Main navigation menu"
                        AutomationProperties.HelpText="Navigation menu to switch between Dashboard, Create Ticket, Live Map, History, and Handover Log pages">

            <NavigationView.Resources>
                <SolidColorBrush x:Key="NavigationViewItemForeground" Color="#E2E8F0"/>
                <SolidColorBrush x:Key="NavigationViewItemForegroundPointerOver" Color="#FFFFFF"/>
                <SolidColorBrush x:Key="NavigationViewItemForegroundSelected" Color="#00B4FF"/>
                <SolidColorBrush x:Key="NavigationViewItemForegroundSelectedPointerOver" Color="#00B4FF"/>
                <SolidColorBrush x:Key="NavigationViewPaneToggleButtonForeground" Color="#E2E8F0"/>
                <SolidColorBrush x:Key="NavigationViewPaneToggleButtonForegroundPointerOver" Color="#FFFFFF"/>
                <SolidColorBrush x:Key="NavigationViewPaneToggleButtonForegroundPressed" Color="#FFFFFF"/>
                <SolidColorBrush x:Key="NavigationViewItemBackgroundSelected" Color="#1A4D7A"/>
            </NavigationView.Resources>

            <NavigationView.MenuItems>
                <NavigationViewItem Tag="Dashboard" Icon="Home" Content="DASHBOARD" FontFamily="{StaticResource InterBold}" FontSize="13" FontWeight="Bold"
                                   AutomationProperties.Name="Dashboard"
                                   AutomationProperties.HelpText="Navigate to Dashboard page to view real-time performance monitoring and analytics"/>
                <NavigationViewItem Tag="CreateTicket" Icon="Edit" Content="CREATE TICKET" FontFamily="{StaticResource InterBold}" FontSize="13" FontWeight="Bold"
                                   AutomationProperties.Name="Create Ticket"
                                   AutomationProperties.HelpText="Navigate to Create Ticket page to initialize new incident reports"/>
                <NavigationViewItem Tag="LiveMap" Icon="Map" Content="LIVE MAP" FontFamily="{StaticResource InterBold}" FontSize="13" FontWeight="Bold"
                                   AutomationProperties.Name="Live Map"
                                   AutomationProperties.HelpText="Navigate to Live Map page for geo-spatial incident visualization with interactive markers"/>
                <NavigationViewItem Tag="History" Icon="Clock" Content="HISTORY" FontFamily="{StaticResource InterBold}" FontSize="13" FontWeight="Bold"
                                   AutomationProperties.Name="History"
                                   AutomationProperties.HelpText="Navigate to History page to view comprehensive incident archive with data filtering and export options"/>
                <NavigationViewItem Tag="HandoverLog" Icon="Library" Content="HANDOVER LOG" FontFamily="{StaticResource InterBold}" FontSize="13" FontWeight="Bold"
                                   AutomationProperties.Name="Handover Log"
                                   AutomationProperties.HelpText="Navigate to Handover Log page for shift handover records and team coordination"/>
            </NavigationView.MenuItems>

            <NavigationView.FooterMenuItems>
                <NavigationViewItem Tag="Settings" Icon="Setting" Content="SETTINGS" FontFamily="{StaticResource InterBold}" FontSize="13" FontWeight="Bold"
                                   AutomationProperties.Name="Settings"
                                   AutomationProperties.HelpText="Navigate to Settings page to configure application preferences and system options"/>
            </NavigationView.FooterMenuItems>

            <Frame x:Name="ContentFrame"
                   AutomationProperties.Name="Content area"
                   AutomationProperties.HelpText="Main content area displaying current page">
                <Frame.ContentTransitions>
                    <TransitionCollection>
                        <NavigationThemeTransition/>
                    </TransitionCollection>
                </Frame.ContentTransitions>
            </Frame>
        </NavigationView>

        <Grid Grid.Row="2" x:Name="DevPanel" Visibility="Collapsed" Height="200" 
              Background="#0D1B2A"
              BorderBrush="#30B4FF" BorderThickness="0,1,0,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Border Background="#1A2D3D" Padding="12,8" BorderBrush="#30B4FF" BorderThickness="0,0,0,1">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <FontIcon Glyph="&#xE713;" Foreground="#00B4FF" FontSize="12" VerticalAlignment="Center"/>
                        <TextBlock Text="DEBUG CONSOLE" FontSize="11" FontWeight="Bold" Foreground="#FFFFFF" VerticalAlignment="Center" FontFamily="{StaticResource InterBold}"/>
                    </StackPanel>

                    <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="6">
                        <Button x:Name="BtnCopyLog" Click="BtnCopyLog_Click" Padding="8,4" Background="#40FFFFFF" BorderThickness="0" CornerRadius="4" ToolTipService.ToolTip="Copy All Logs">
                            <FontIcon Glyph="&#xE8C8;" FontSize="11" Foreground="White"/>
                        </Button>
                        <Button x:Name="BtnOpenLogFile" Click="BtnOpenLogFile_Click" Padding="8,4" Background="#40FFFFFF" BorderThickness="0" CornerRadius="4" ToolTipService.ToolTip="Open Log File">
                            <FontIcon Glyph="&#xE8E5;" FontSize="11" Foreground="White"/>
                        </Button>
                        <Button x:Name="BtnClearLog" Click="BtnClearLog_Click" Padding="8,4" Background="#20FF3B30" BorderThickness="0.5" BorderBrush="#FF3B30" CornerRadius="4" ToolTipService.ToolTip="Clear Logs">
                            <FontIcon Glyph="&#xE74D;" FontSize="11" Foreground="#FF3B30"/>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>

            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                <TextBox x:Name="DevLogBox" 
                         IsReadOnly="True" 
                         AcceptsReturn="True" 
                         TextWrapping="Wrap" 
                         FontFamily="Consolas" 
                         FontSize="9" 
                         BorderThickness="0" 
                         Background="Transparent" 
                         Foreground="#E2E8F0" 
                         Padding="10"/>
            </ScrollViewer>
        </Grid>

        <Border Grid.Row="3" Background="#0A0E27" BorderBrush="#30B4FF" BorderThickness="0,1,0,0" Padding="20,6"
                AutomationProperties.Name="Application status bar"
                AutomationProperties.HelpText="Displays current system status, active processes, and quick action controls">
            <Grid VerticalAlignment="Center" Height="40">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Orientation="Horizontal" Spacing="10"
                            AutomationProperties.Name="System status section"
                            AutomationProperties.HelpText="Shows whether system is active or idle">
                    <ProgressRing Width="11" Height="11" IsActive="True" Foreground="{StaticResource InfoColor}"
                                  AutomationProperties.Name="Activity indicator"
                                  AutomationProperties.HelpText="Animated ring indicates system is actively processing"/>
                    <TextBlock Text="SYSTEM ACTIVE" FontWeight="Bold" FontSize="10" VerticalAlignment="Center" Foreground="White" FontFamily="{StaticResource InterBold}"
                               AutomationProperties.Name="System active status text"
                               AutomationProperties.HelpText="System is currently active and ready for operations"/>
                    <Border Width="1" Height="12" Background="#40FFFFFF" VerticalAlignment="Center"/>
                    <TextBlock x:Name="TxtStatusIndicator" Text="●" FontSize="12" Foreground="#34C759" VerticalAlignment="Center" Margin="4,0,0,0"
                               AutomationProperties.Name="Status indicator dot"
                               AutomationProperties.HelpText="Green dot indicates all systems are operational"
                               AutomationProperties.LiveSetting="Polite"/>
                </StackPanel>

                <Grid Grid.Column="1" Margin="12,0" VerticalAlignment="Center"
                      AutomationProperties.Name="Status message area"
                      AutomationProperties.HelpText="Displays current operation status or ready message">
                    <TextBlock x:Name="StatusLog" Text="Ready for operations" FontSize="9" Foreground="White" Opacity="0.7" VerticalAlignment="Center" TextTrimming="CharacterEllipsis" FontFamily="Consolas"
                               AutomationProperties.Name="Status message"
                               AutomationProperties.LiveSetting="Polite"/>

                    <StackPanel x:Name="ProcessPanel" Orientation="Horizontal" Spacing="10" Visibility="Collapsed" VerticalAlignment="Center"
                                AutomationProperties.Name="Process progress panel"
                                AutomationProperties.HelpText="Shows active process details with progress bar and cancellation option"
                                AutomationProperties.LiveSetting="Polite">
                        <TextBlock x:Name="TxtProcessName" Text="PROCESSING..." FontSize="9" FontWeight="Bold" Foreground="#00B4FF" VerticalAlignment="Center" FontFamily="{StaticResource InterBold}"
                                   AutomationProperties.Name="Process name"
                                   AutomationProperties.LiveSetting="Polite"/>
                        <ProgressBar x:Name="MainProgressBar" Width="140" Maximum="100" Value="0" Foreground="#00B4FF" Background="#20B4FF" VerticalAlignment="Center" Height="4" CornerRadius="2"
                                     AutomationProperties.Name="Process progress bar"
                                     AutomationProperties.HelpText="Progress indicator showing percentage of current operation completed"
                                     AutomationProperties.LiveSetting="Polite"/>
                        <TextBlock x:Name="TxtProcessPercent" Text="0%" FontSize="9" FontWeight="Bold" Foreground="White" Width="30" TextAlignment="Right" VerticalAlignment="Center" FontFamily="Consolas"
                                   AutomationProperties.Name="Progress percentage"
                                   AutomationProperties.LiveSetting="Polite"/>
                        <Button x:Name="BtnCancelProcess" Click="BtnCancelProcess_Click" 
                                Background="#20FF3B30" BorderBrush="#FF3B30" BorderThickness="0.5" 
                                Padding="8,3" CornerRadius="4" Height="22" VerticalAlignment="Center"
                                ToolTipService.ToolTip="Cancel current process operation"
                                AutomationProperties.Name="Cancel process button"
                                AutomationProperties.HelpText="Click to stop and cancel the currently executing process">
                            <StackPanel Orientation="Horizontal" Spacing="4">
                                <FontIcon Glyph="&#xE711;" FontSize="8" Foreground="#FF3B30"/>
                                <TextBlock Text="CANCEL" FontSize="8" FontWeight="Bold" Foreground="#FF3B30" FontFamily="{StaticResource InterBold}"/>
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </Grid>

                <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center"
                            AutomationProperties.Name="Quick action panel"
                            AutomationProperties.HelpText="Contains quick action buttons and system toggle switches">
                    <Button x:Name="BtnQuickNewTicket" Padding="8,3" Background="#20B4FF3B" BorderBrush="#B4FF3B" BorderThickness="0.5" CornerRadius="4" Height="22" VerticalAlignment="Center" ToolTipService.ToolTip="New Ticket (F10)"
                            AutomationProperties.Name="Quick new ticket button"
                            AutomationProperties.HelpText="Quickly create a new incident ticket (keyboard shortcut: F10)">
                        <StackPanel Orientation="Horizontal" Spacing="3">
                            <FontIcon Glyph="&#xE109;" FontSize="8" Foreground="#34C759"/>
                            <TextBlock Text="NEW" FontSize="8" FontWeight="Bold" Foreground="#34C759" FontFamily="{StaticResource InterBold}"/>
                        </StackPanel>
                    </Button>

                    <Border Width="0.8" Height="14" Background="#40FFFFFF" VerticalAlignment="Center"/>

                    <ToggleSwitch x:Name="AiToggle" OnContent="AI" OffContent="AI" IsOn="True" Toggled="AiToggle_Toggled" MinWidth="0" FontSize="9" Height="26" Foreground="White" FontFamily="{StaticResource InterBold}"
                                  AutomationProperties.Name="AI toggle switch"
                                  AutomationProperties.HelpText="Toggle artificial intelligence features on or off. Current status: ON"/>
                    <Border Width="0.8" Height="14" Background="#40FFFFFF" VerticalAlignment="Center"/>
                    <ToggleSwitch x:Name="DevToggle" OnContent="DEV" OffContent="USR" Toggled="DevToggle_Toggled" MinWidth="0" FontSize="9" Height="26" Foreground="White" FontFamily="{StaticResource InterBold}"
                                  AutomationProperties.Name="Developer mode toggle"
                                  AutomationProperties.HelpText="Toggle developer mode to show debug console and activity logs. Current status: User mode (DEV mode OFF)"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</winex:WindowEx>